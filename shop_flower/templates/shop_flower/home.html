{% extends 'shop_flower/base.html' %}
{% load humanize %}
{% load static %}

{% block title %}Trang ch·ªß - Shop Flower{% endblock %}

{% block content %}

<!-- Carousel qu·∫£ng c√°o -->
<div id="flowerCarousel" class="carousel slide mb-5" data-bs-ride="carousel">

  <div class="carousel-indicators">
    <button type="button" data-bs-target="#flowerCarousel" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#flowerCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#flowerCarousel" data-bs-slide-to="2"></button>
  </div>

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'shop_flower/banners/banner_s_1.jpg' %}" class="d-block w-100" alt="Hoa t∆∞∆°i m·ªói ng√†y">
      <div class="carousel-caption d-none d-md-block">
        <h5>Hoa t∆∞∆°i m·ªói ng√†y</h5>
        <p>Giao nhanh ‚Äì ƒê√∫ng h·∫πn</p>
      </div>
    </div>

    <div class="carousel-item">
      <img src="{% static 'shop_flower/banners/banner_s_2.jpg' %}" class="d-block w-100" alt="Qu√† t·∫∑ng √Ω nghƒ©a">
      <div class="carousel-caption d-none d-md-block">
        <h5>Qu√† t·∫∑ng √Ω nghƒ©a</h5>
        <p>Cho ng∆∞·ªùi b·∫°n y√™u th∆∞∆°ng</p>
      </div>
    </div>

    <div class="carousel-item">
      <img src="{% static 'shop_flower/banners/banner_s_4.jpg' %}" class="d-block w-100" alt="V·∫≠n chuy·ªÉn h·ªèa t·ªëc">
      <div class="carousel-caption d-none d-md-block">
        <h5>V·∫≠n chuy·ªÉn nhanh ch√≥ng</h5>
        <p>Trung t√¢m H√† N·ªôi</p>
      </div>
    </div>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#flowerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#flowerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<div class="text-center my-5">
  <h1>Ch√†o m·ª´ng ƒë·∫øn Shop Flower</h1>
  <p>Th∆∞∆°ng hi·ªáu hoa & qu√† t·∫∑ng</p>
  <!-- B·∫°n c√≥ th·ªÉ th√™m banner, carousel ·ªü ƒë√¢y -->
</div>

<!-- List hoa -->
<div class="container my-5">
  <h2 class="text-center mb-4">üå∏ Hoa ƒëang b√°n</h2>
  <div class="row">
  {% for flower in flowers %}
  <div class="col-md-3 mb-4">
    <div class="card h-100 shadow-sm
    {% if flower.stock == 0 %} opacity-50 {% endif %}">

      {% if flower.image %}
      <a href="{% url 'product_detail' flower.id %}">
        <img src="{{ flower.image.url }}" class="card-img-top" alt="{{ flower.name }}">
      </a>
      {% else %}
      <img src="{% static 'shop_flower/images/no-image.png' %}" class="card-img-top">
      {% endif %}

      <div class="card-body text-center">
        <h5 class="card-title">{{ flower.name }}</h5>

        {% if flower.stock > 0 %}
            <p class="text-danger fw-bold">
                {{ flower.sell_price|floatformat:0|intcomma }} VND
            </p>
        {% else %}
            <p class="text-muted fw-bold">
                H·∫æT H√ÄNG
            </p>
        {% endif %}

        <div class="cart-action"
          data-id="{{ flower.id }}"
          data-name="{{ flower.name }}"
          data-price="{{ flower.sell_price }}"
          data-image="{{ flower.image.url }}">
          <button class="btn btn-danger rounded-pill fw-bold w-100 btn-add-cart">
             üõí Th√™m v√†o gi·ªè
          </button>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  </div>
</div>

{% endblock %}

